<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Special Note</title>
<style>
:root {
  --bg: #fff5f8;
  --paper: #fff9e6;
  --accent: #ff6f91;
  --dark: #7a0020;
}
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  min-height: 100vh; display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  background: radial-gradient(circle at top, #fff, #ffe6ee), #ffe6ee;
  font-family: 'Courier New', Courier, monospace;
  overflow: hidden;
}

/* Envelope Container */
.envelope-wrapper {
  position: relative; width: 280px; height: 180px;
  background: #ffb3c6; border-radius: 0 0 10px 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  cursor: pointer; transition: 0.5s; z-index: 10;
}

/* Envelope Flap */
.envelope-wrapper::before {
  content: ""; position: absolute; top: 0; left: 0;
  border-left: 140px solid transparent; border-right: 140px solid transparent;
  border-top: 100px solid #ff8fa3; transform-origin: top; transition: 0.5s;
}

/* Open Envelope State */
.envelope-wrapper.open::before { transform: rotateX(180deg); z-index: 1; }
.envelope-wrapper.open { transform: translateY(100px); }

/* The Letter/Paper */
.paper {
  position: absolute; top: 10px; left: 10px; width: 260px; height: 160px;
  background: var(--paper); padding: 20px; border-radius: 5px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.05);
  transition: 0.8s; z-index: 5; opacity: 0;
  overflow-y: auto; color: var(--dark); font-weight: bold;
  line-height: 1.5; font-size: 15px;
}

.envelope-wrapper.open .paper {
  transform: translateY(-260px); height: 350px; width: 320px;
  left: -20px; opacity: 1; padding: 25px;
}

#typewriter::after { content: "|"; animation: blink 0.7s infinite; }
@keyframes blink { 50% { opacity: 0; } }

/* Next Button */
#nextBtn {
    position: fixed; bottom: 30px; padding: 12px 35px;
    background: var(--dark); color: white; border: none;
    border-radius: 50px; font-weight: bold; cursor: pointer;
    opacity: 0; visibility: hidden; transition: 0.5s;
    z-index: 100;
}
#nextBtn.show { opacity: 1; visibility: visible; }

.instruction { margin-bottom: 20px; color: var(--accent); font-weight: bold; font-family: sans-serif; }
</style>
</head>
<body>

<div class="instruction" id="hint">Tap the envelope to open ❤️</div>

<div class="envelope-wrapper" id="envelope" onclick="openLetter()">
  <div class="paper" id="paper">
    <div id="typewriter"></div>
  </div>
</div>

<button id="nextBtn" onclick="nextPage()">Next Surprise ⮕</button>

<script>
const message = "My Dearest, \n\nHappy New Year 2026! ✨\n\nAs we step into another year, I want you to know that you are the best thing that ever happened to me. Every moment with you is like a beautiful melody. \n\nI promise to hold your hand through every high and low this year. Thank you for being my smile, my love, and my everything. \n\nLet's make this year unforgettable together! ❤️\n\nYours Forever...";

let i = 0;
function typeWriter() {
  if (i < message.length) {
    document.getElementById("typewriter").innerHTML += message.charAt(i) === '\n' ? '<br>' : message.charAt(i);
    i++;
    setTimeout(typeWriter, 50);
  }
}

function openLetter() {
  const envelope = document.getElementById("envelope");
  const hint = document.getElementById("hint");
  
  if(!envelope.classList.contains('open')) {
    envelope.classList.add("open");
    hint.style.opacity = "0";
    setTimeout(typeWriter, 1000); 
    
    // Show button after note is typed
    setTimeout(() => {
        document.getElementById('nextBtn').classList.add('show');
    }, 10000);
  }
}

function nextPage() {
    // Standard Capital P for consistency
    window.location.href = "page5.html"; 
}
</script>

</body>
</html>
ge to your next page
}
</script>

</body>
</html>
